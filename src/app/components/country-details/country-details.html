<div class="container py-5">
  <button class="btn btn-light shadow-sm mb-5 px-4" [routerLink]="['/']">
    <i class="bi bi-arrow-left me-2"></i> Back
  </button>

  @if (country$ | async; as countries) {
    @let country = countries[0];
    <div class="row align-items-center g-md-5">
      <div class="col-12 col-lg-6 mb-4 mb-lg-0">
        <img
          [src]="country.flags.svg"
          [alt]="country.name.common"
          class="img-fluid shadow-sm rounded"
        />
      </div>

      <div class="col-12 col-lg-6">
        <h1 class="fw-bold mb-4">{{ country.name.common }}</h1>

        <div class="row">
          <div class="col-12 col-md-6">
            <p><strong>Native Name:</strong> {{ getNativeName(country) }}</p>
            <p><strong>Population:</strong> {{ country.population.toLocaleString() }}</p>
            <p><strong>Capital:</strong> {{ country.capital[0] || 'N/A' }}</p>
            <p><strong>Region:</strong> {{ country.region }}</p>
          </div>
          <div class="col-12 col-md-6 mt-3 mt-md-0">
            <p><strong>Sub Region:</strong> {{ country.subregion }}</p>
            <p><strong>Top Level Domain:</strong> {{ country.tld[0] }}</p>
            <p><strong>Currencies:</strong> {{ getCurrencies(country) }}</p>
            <p><strong>Languages:</strong> {{ getLanguages(country) }}</p>
          </div>
        </div>

        <div class="mt-5">
          <strong class="d-block d-md-inline mb-2">Border Countries:</strong>
          <div class="d-inline-flex flex-wrap gap-2 align-items-center ms-md-2">
            @for (border of country.borders; track border) {
              <span class="badge bg-white text-dark shadow-sm border py-2 px-3 fw-normal">{{
                border
              }}</span>
            } @empty {
              <span class="text-muted">None</span>
            }
          </div>
        </div>
      </div>
    </div>
  } @else {
    <div class="row align-items-center g-md-5">
      <div class="col-12 col-lg-6 mb-4 mb-lg-0">
        <div class="placeholder-glow">
          <div class="placeholder col-12 rounded" style="height: 350px"></div>
        </div>
      </div>
      <div class="col-12 col-lg-6">
        <div class="placeholder-glow">
          <h1 class="placeholder col-6 mb-4"></h1>
          <div class="row">
            <div class="col-6">
              <span class="placeholder col-10"></span>
              <span class="placeholder col-8"></span>
              <span class="placeholder col-9"></span>
            </div>
            <div class="col-6">
              <span class="placeholder col-7"></span>
              <span class="placeholder col-10"></span>
            </div>
          </div>
          <div class="mt-5">
            <span class="placeholder col-4"></span>
            <div class="mt-2">
              <span class="placeholder col-2 me-2"></span>
              <span class="placeholder col-2 me-2"></span>
              <span class="placeholder col-2"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  }
</div>
